<?xml version="1.0"?>
<!DOCTYPE fontconfig SYSTEM "urn:fontconfig:fonts.dtd">
<!--
    Configure Noto Mono Nerd Font compatibility and spacing.
-->
<fontconfig>
    <!-- 
       Compatibility Alias:
       Map legacy "Noto Mono Nerd Font" (with spaces) to "NotoSansM Nerd Font" 
       (CamelCase, new upstream name for Mono with weights).
       Using NotoSansM because NotoMono now only has Regular weight.
    -->
    <match target="pattern">
        <test qual="any" name="family">
            <string>Noto Mono Nerd Font</string>
        </test>
        <edit name="family" mode="assign" binding="strong">
            <string>NotoSansM Nerd Font</string>
        </edit>
    </match>

    <!-- Force spacing=100 (mono) for NotoMono Nerd Font (Legacy) -->
    <match target="scan">
        <test name="family" compare="contains">
            <string>NotoMono Nerd Font</string>
        </test>
        <edit name="spacing" mode="assign">
            <int>100</int>
        </edit>
    </match>

    <!-- Force spacing=100 (mono) for NotoSansM Nerd Font (New Mono) -->
    <match target="scan">
        <test name="family" compare="contains">
            <string>NotoSansM Nerd Font</string>
        </test>
        <edit name="spacing" mode="assign">
            <int>100</int>
        </edit>
    </match>

    <!-- Add families to generic monospace -->
    <alias>
        <family>NotoMono Nerd Font</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
    <alias>
        <family>NotoSansM Nerd Font</family>
        <default>
            <family>monospace</family>
        </default>
    </alias>
</fontconfig>